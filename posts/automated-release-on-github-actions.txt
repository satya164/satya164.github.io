1:HL["/_next/static/media/4de1fea1a954a5b6-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
2:HL["/_next/static/media/6d664cce900333ee-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
3:HL["/_next/static/media/cb0a9ee3a59e8bf7-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
4:HL["/_next/static/media/df99695897be762b-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
5:HL["/_next/static/css/689854ea623b619b.css","style",{"crossOrigin":""}]
0:["9bKoXph-GlDKVwAFRu_Ql",[[["",{"children":["posts",{"children":[["id","automated-release-on-github-actions","d"],{"children":["__PAGE__?{\"id\":\"automated-release-on-github-actions\"}",{}]}]}]},"$undefined","$undefined",true],"$L6",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/689854ea623b619b.css","precedence":"next","crossOrigin":""}]],"$L7"]]]]
8:HL["/_next/static/css/2a8343fe704061c5.css","style",{"crossOrigin":""}]
9:I[9095,["122","static/chunks/122-847cc1f949cebb26.js","185","static/chunks/app/layout-8cc8978a5ad6fdf3.js"],"script"]
a:I[8326,["122","static/chunks/122-847cc1f949cebb26.js","931","static/chunks/app/page-92a59cd99731c7fc.js"],""]
b:I[9095,["122","static/chunks/122-847cc1f949cebb26.js","185","static/chunks/app/layout-8cc8978a5ad6fdf3.js"],"ThemeSwitcher"]
c:I[6954,[],""]
d:I[7264,[],""]
6:[null,["$","html",null,{"lang":"en","className":"__variable_7c3f16 __variable_bbd8db __variable_bef9c6","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$","script",null,{"dangerouslySetInnerHTML":{"__html":"$9"}}]}],["$","body",null,{"children":[["$","nav",null,{"children":[["$","$La",null,{"href":"/","children":"Posts"}],["$","$La",null,{"href":"/about","children":"About"}],["$","$La",null,{"href":"/rss.xml","children":"RSS"}],["$","$Lb",null,{}]]}],["$","$Lc",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Ld",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$","$Lc",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Ld",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$Lc",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children",["id","automated-release-on-github-actions","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Ld",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$Le","$Lf",null],"segment":"__PAGE__?{\"id\":\"automated-release-on-github-actions\"}"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/2a8343fe704061c5.css","precedence":"next","crossOrigin":""}]]}],"segment":["id","automated-release-on-github-actions","d"]},"styles":null}],"segment":"posts"},"styles":null}],["$","footer",null,{"children":["Copyright © 2023 ",["$","$La",null,{"href":"/about","children":"Satyajit Sahoo"}],". All rights reserved."]}]]}]]}],null]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Automated Release on GitHub Actions · satya164's blog"}],["$","meta","3",{"name":"description","content":"Releasing an npm package usually has a lot of steps. This is a guide to setting up automated releases for npm packages on GitHub Actions using release-it."}],["$","link","4",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","meta","5",{"name":"next-size-adjust"}]]
10:I[1988,["722","static/chunks/app/posts/%5Bid%5D/page-73edd7184b7069f8.js"],"Pre"]
11:I[9670,["722","static/chunks/app/posts/%5Bid%5D/page-73edd7184b7069f8.js"],"SocialLinks"]
f:["$","main",null,{"children":[["$","article",null,{"children":[["$","h1",null,{"children":"Automated Release on GitHub Actions"}],["$","div",null,{"className":"styles_meta__208KK","children":[["$","span",null,{"children":"4 min read"}],["$","time",null,{"dateTime":"2023-11-02","children":"November 2, 2023"}]]}],[["$","p",null,{"children":[["$","a",null,{"href":"https://github.com/release-it/release-it","children":"Release It!"}]," is a tool to automate releases for npm packages. It can be used to automatically bump the version, generate changelog, create a git tag, push the changes to the repository, and publish the package to npm."]}],"\n",["$","p",null,{"children":["The version bump and changelog generation is based on the commit messages. It uses ",["$","a",null,{"href":"https://www.conventionalcommits.org/en/v1.0.0/","children":"Conventional Commits"}]," by default."]}],"\n",["$","p",null,{"children":["This guide documents how to configure GitHub Actions to automatically release npm packages on every commit using ",["$","code",null,{"children":"release-it"}],"."]}],"\n",["$","h2",null,{"id":"step-1","children":["$","a",null,{"href":"#step-1","children":"Step 1"}]}],"\n",["$","p",null,{"children":["Install ",["$","code",null,{"children":"release-it"}]," and ",["$","code",null,{"children":"@release-it/conventional-changelog"}]," as dev dependencies:"]}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","$L10",null,{"className":"material-theme-palenight","style":{"backgroundColor":"#292D3E"},"tabIndex":"0","data-language":"bash","data-theme":"default","children":["$","code",null,{"data-language":"bash","data-theme":"default","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#FFCB6B"},"children":"yarn"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"add"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"--dev"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"release-it"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"@release-it/conventional-changelog"}]]}]}]}]}],"\n",["$","p",null,{"children":["Configure ",["$","code",null,{"children":"release-it"}]," in the ",["$","code",null,{"children":"package.json"}]," file:"]}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":[["$","div",null,{"data-rehype-pretty-code-title":"","data-language":"js","data-theme":"default","children":"package.json"}],["$","$L10",null,{"className":"material-theme-palenight","style":{"backgroundColor":"#292D3E"},"tabIndex":"0","data-language":"js","data-theme":"default","children":["$","code",null,{"data-language":"js","data-theme":"default","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"  "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"..."}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"  "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"release-it"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":": "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"git"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"commitMessage"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"chore: release ${version}"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"tagName"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"v${version}"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"},"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"npm"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"publish"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#FF9CAC"},"children":"true"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"},"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"github"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"release"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#FF9CAC"},"children":"true"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"},"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"plugins"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"@release-it/conventional-changelog"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"        "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"preset"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"{"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"          "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"conventionalcommits"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"        "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"},"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"        "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#F07178"},"children":"infile"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#F07178"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"CHANGELOG.md"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"\""}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"}"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"    "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"}"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"  "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"},"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"  "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"..."}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#89DDFF"},"children":"}"}]}]]}]}]]}],"\n",["$","h2",null,{"id":"step-2","children":["$","a",null,{"href":"#step-2","children":"Step 2"}]}],"\n",["$","p",null,{"children":["Create a NPM token with publish access. You can create one at ",["$","code",null,{"children":"https://www.npmjs.com/settings/[username]/tokens"}]," (replace ",["$","code",null,{"children":"[username]"}]," with your username):"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Click on ",["$","strong",null,{"children":"\"Generate New Token\""}]," and select ",["$","strong",null,{"children":"\"Granular Access Token\""}]]}],"\n",["$","li",null,{"children":"Provide a token name and expiration date"}],"\n",["$","li",null,{"children":["Under ",["$","strong",null,{"children":"\"Packages and scopes\""}],", select ",["$","strong",null,{"children":"\"Read and write\""}]," for permissions"]}],"\n",["$","li",null,{"children":["Then select ",["$","strong",null,{"children":"\"Only select packages and scopes\""}]," and select the package you want to publish"]}],"\n",["$","li",null,{"children":["Click ",["$","strong",null,{"children":"\"Generate token\""}]," and copy the token"]}],"\n"]}],"\n",["$","p",null,{"children":"Then the token needs to be added as a secret in the GitHub repository:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Go to the repository and click on ",["$","strong",null,{"children":"\"Settings\""}]]}],"\n",["$","li",null,{"children":["Click on ",["$","strong",null,{"children":"\"Secrets and variables\""}]," and choose ",["$","strong",null,{"children":"\"Actions\""}]]}],"\n",["$","li",null,{"children":["Click ",["$","strong",null,{"children":"\"New repository secret\""}]," and add the token as ",["$","code",null,{"children":"NPM_PUBLISH_TOKEN"}]]}],"\n",["$","li",null,{"children":["Click on ",["$","strong",null,{"children":"\"Add secret\""}]," to save the token"]}],"\n"]}],"\n",["$","p",null,{"children":"This token will be used to authenticate with NPM to publish the package."}],"\n",["$","h2",null,{"id":"step-3","children":["$","a",null,{"href":"#step-3","children":"Step 3"}]}],"\n",["$","p",null,{"children":["Create a GitHub personal access token with the ",["$","code",null,{"children":"repo"}]," scope. You can create one ",["$","a",null,{"href":"https://github.com/settings/tokens/new?scopes=repo&description=release-it","children":["under ",["$","strong",null,{"children":"Developer settings"}]," in your profile settings"]}],"."]}],"\n",["$","p",null,{"children":"Then the token needs to be added as a secret in the GitHub repository:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Go to the repository and click on ",["$","strong",null,{"children":"\"Settings\""}]]}],"\n",["$","li",null,{"children":["Click on ",["$","strong",null,{"children":"\"Secrets and variables\""}]," and choose ",["$","strong",null,{"children":"\"Actions\""}]]}],"\n",["$","li",null,{"children":["Click ",["$","strong",null,{"children":"\"New repository secret\""}]," and add the token as ",["$","code",null,{"children":"PERSONAL_ACCESS_TOKEN"}]]}],"\n",["$","li",null,{"children":["Click on ",["$","strong",null,{"children":"\"Add secret\""}]," to save the token"]}],"\n"]}],"\n",["$","p",null,{"children":"A personal access token is necessary to be able to push the changes back to the repository if the release branch is protected. The user associated with the token needs to have admin access to the repository and be able to bypass branch protection rules."}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Keep in mind that other collaborators on the repo can push actions that use this token and push commits acting as the user associated with the token."}]}],"\n",["$","p",null,{"children":["If there are no branch protection rules in the repository, then the ",["$","code",null,{"children":"GITHUB_TOKEN"}]," secret can be used instead of a personal access token."]}],"\n",["$","h2",null,{"id":"step-4","children":["$","a",null,{"href":"#step-4","children":"Step 4"}]}],"\n",["$","p",null,{"children":["Create a GitHub Actions workflow file in ",["$","code",null,{"children":".github/workflows/release.yml"}]," with the following contents:"]}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":[["$","div",null,{"data-rehype-pretty-code-title":"","data-language":"yml","data-theme":"default","children":".github/workflows/release.yml"}],["$","$L10",null,{"className":"material-theme-palenight","style":{"backgroundColor":"#292D3E"},"tabIndex":"0","data-language":"yml","data-theme":"default","children":["$","code",null,{"data-language":"yml","data-theme":"default","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Release package"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#FF9CAC"},"children":"on"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"  "}],["$","span",null,{"style":{"color":"#F07178"},"children":"workflow_run"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"branches"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"main"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"workflows"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"      "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# List of workflows that runs tests, linting, etc."}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"      "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# This ensures that the release is only triggered when the tests pass."}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"CI"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"types"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"completed"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#F07178"},"children":"jobs"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"  "}],["$","span",null,{"style":{"color":"#F07178"},"children":"check-commit"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"runs-on"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"ubuntu-latest"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"    "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# Skip if the workflow run for tests, linting etc. is not successful"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"    "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# Without this, the release will be triggered after the previous workflow run even if it failed."}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"if"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"$${{ github.event.workflow_run.conclusion == 'success' }}"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"outputs"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#F07178"},"children":"skip"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"$${{ steps.commit-message.outputs.skip }}"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"steps"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Checkout"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"uses"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"actions/checkout@v3"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"      "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# Check if the commit message is a release commit"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"      "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# Without this, there will be an infinite loop of releases"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Get commit message"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"id"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"commit-message"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"run"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF","fontStyle":"italic"},"children":"|"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"          MESSAGE=$(git log --format=%B -n 1 $(git log -1 --pretty=format:\"%h\"))"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"          if [[ $MESSAGE == \"chore: release \"* ]]; then"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"            echo \"skip=true\" >> $GITHUB_OUTPUT"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"          fi"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"  "}],["$","span",null,{"style":{"color":"#F07178"},"children":"release"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"runs-on"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"ubuntu-latest"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"needs"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"check-commit"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"    "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# Skip if the commit message is a release commit"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"if"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"$${{ needs.check-commit.outputs.skip != 'true' }}"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"    "}],["$","span",null,{"style":{"color":"#F07178"},"children":"steps"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Checkout"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"uses"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"actions/checkout@v3"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"with"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#89DDFF"},"children":"          "}],["$","span",null,{"style":{"color":"#676E95","fontStyle":"italic"},"children":"# This is needed to generate the changelog from commit messages"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"          "}],["$","span",null,{"style":{"color":"#F07178"},"children":"fetch-depth"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F78C6C"},"children":"0"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"          "}],["$","span",null,{"style":{"color":"#F07178"},"children":"token"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"$${{ secrets.PERSONAL_ACCESS_TOKEN }}"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Setup Node.js"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"uses"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"actions/setup-node@v3"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Install dependencies"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"run"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"yarn install --immutable"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"shell"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"bash"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Configure Git"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"run"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF","fontStyle":"italic"},"children":"|"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"          git config user.name \"${GITHUB_ACTOR}\""}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"          git config user.email \"${GITHUB_ACTOR}@users.noreply.github.com\""}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"      "}],["$","span",null,{"style":{"color":"#89DDFF"},"children":"-"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#F07178"},"children":"name"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"Create release"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"run"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#89DDFF","fontStyle":"italic"},"children":"|"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"          npm config set //registry.npmjs.org/:_authToken $NPM_TOKEN"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#C3E88D"},"children":"          yarn release-it --ci"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"        "}],["$","span",null,{"style":{"color":"#F07178"},"children":"env"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"          "}],["$","span",null,{"style":{"color":"#F07178"},"children":"GITHUB_TOKEN"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"$${{ secrets.PERSONAL_ACCESS_TOKEN }}"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#BABED8"},"children":"          "}],["$","span",null,{"style":{"color":"#F07178"},"children":"NPM_TOKEN"}],["$","span",null,{"style":{"color":"#89DDFF"},"children":":"}],["$","span",null,{"style":{"color":"#BABED8"},"children":" "}],["$","span",null,{"style":{"color":"#C3E88D"},"children":"$${{ secrets.NPM_PUBLISH_TOKEN }}"}]]}]]}]}]]}],"\n",["$","p",null,{"children":["This workflow will automatically publish a new version of the package on every commit to the ",["$","code",null,{"children":"main"}]," branch. Make sure to go through the workflow file and modify it according to your needs, especially the ",["$","code",null,{"children":"workflows"}]," list in the ",["$","code",null,{"children":"on"}]," section."]}],"\n",["$","p",null,{"children":["Alternatively, instead of publishing on every commit, the ",["$","code",null,{"children":"workflow_dispatch"}]," event can be used to manually trigger the workflow from the Actions tab in the repository. See the ",["$","a",null,{"href":"https://docs.github.com/en/actions/using-workflows/manually-running-a-workflow","children":"documentation"}]," for more details."]}]]]}],["$","$L11",null,{}]]}]
e:null
